{% extends 'base.html' %}  

{% block content %} 

<div class="container home">
    <div class="row">
        <div>
            <h3>categories</h3>
            <ul>
                <li {% if not category %} class="selected" {% endif %}>
                    <a href="{% url 'home' %}">all</a>
                </li>
                {% for c in categories %}  
                    <li {% if category.slug == c.slug %} class="selected" {% endif %}>
                        <a href="{% url 'home' %}?category={{ c.name }}">{{ c.name }}</a>
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div class="tray">
            {% if products %}    
                
                {% for product in products %} 
                    <div class="item">
                        <div class="item-image">
                            <img src="{{ product.image.url }}" alt="">
                        </div>
                        <div class="item-body">
                            <a href="{% url 'product_detail' product.id  product.slug %}"><p>{{ product.name }}</p></a>
                            <p>price: {{ product.price }}</p>
                            <small>{{ product.description }}</small>
                        </div>                    
                    </div>          
                {% endfor %}

            {% else %}

                    <p>sorry no products in this category</p>

            {% endif %}
        </div>
    </div>
</div>

{% endblock %}